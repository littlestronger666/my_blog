# 测试亮/暗模式

## 快速测试步骤

### 1. 启动开发服务器

```bash
npm run dev
```

### 2. 打开浏览器

访问 http://localhost:3000

### 3. 测试主题切换

- 在页面右上角找到主题切换按钮
- 点击按钮切换主题
- 观察以下变化：

**亮模式（Light Mode）**：
- 背景：白色
- 文字：深灰色/黑色
- 卡片：浅灰色背景
- 按钮图标：月亮（表示可以切换到暗模式）

**暗模式（Dark Mode）**：
- 背景：深黑色
- 文字：浅灰色/白色
- 卡片：深灰色背景
- 按钮图标：太阳（表示可以切换到亮模式）

### 4. 测试持久化

- 切换到暗模式
- 刷新页面
- 确认页面仍然是暗模式（说明主题状态已保存）

### 5. 测试不同页面

访问以下页面，确认主题在所有页面都正常工作：
- 首页：http://localhost:3000
- 文章详情：http://localhost:3000/posts/hello-world
- 关于页面：http://localhost:3000/about
- 联系页面：http://localhost:3000/contact
- 分类页面：http://localhost:3000/categories/技术

## 如果还是不工作

### 检查浏览器控制台

1. 按 F12 打开开发者工具
2. 查看 Console 标签是否有错误
3. 查看 Elements 标签，检查 `<html>` 标签是否有 `class="dark"` 属性

### 清除缓存

1. 清除浏览器缓存
2. 清除 localStorage：
   - 打开浏览器控制台
   - 输入：`localStorage.clear()`
   - 刷新页面

### 重新构建

```bash
# 删除 .next 目录
rm -rf .next

# 重新安装依赖（如果需要）
npm install

# 重新构建
npm run build

# 启动开发服务器
npm run dev
```

## 预期结果

✅ 主题切换按钮可以点击
✅ 点击后页面颜色立即改变
✅ 刷新页面后主题保持不变
✅ 所有页面的主题保持一致
✅ 浏览器控制台没有错误

## 技术细节

- 使用 `next-themes` 库管理主题
- Tailwind CSS 的 `darkMode: 'class'` 配置
- 主题状态保存在 localStorage 中
- 支持系统主题自动检测
