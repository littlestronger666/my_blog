<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>测试暗色模式 - Tailwind v4</title>
  <style>
    /* 模拟 Tailwind v4 的输出 */
    .bg-white {
      background-color: #ffffff;
    }

    .dark .bg-white {
      background-color: #ffffff;
    }

    .dark\:bg-gray-900:where(.dark, .dark *) {
      background-color: #111827;
    }

    .text-gray-900 {
      color: #111827;
    }

    .dark\:text-white:where(.dark, .dark *) {
      color: #ffffff;
    }

    .bg-gray-50 {
      background-color: #f9fafb;
    }

    .dark\:bg-gray-800:where(.dark, .dark *) {
      background-color: #1f2937;
    }

    .p-8 {
      padding: 2rem;
    }

    .p-6 {
      padding: 1.5rem;
    }

    .mb-4 {
      margin-bottom: 1rem;
    }

    .rounded-lg {
      border-radius: 0.5rem;
    }

    .shadow {
      box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1);
    }

    .min-h-screen {
      min-height: 100vh;
    }

    .max-w-2xl {
      max-width: 42rem;
    }

    .mx-auto {
      margin-left: auto;
      margin-right: auto;
    }

    .text-3xl {
      font-size: 1.875rem;
      line-height: 2.25rem;
    }

    .text-xl {
      font-size: 1.25rem;
      line-height: 1.75rem;
    }

    .font-bold {
      font-weight: 700;
    }

    .font-semibold {
      font-weight: 600;
    }

    .px-4 {
      padding-left: 1rem;
      padding-right: 1rem;
    }

    .py-2 {
      padding-top: 0.5rem;
      padding-bottom: 0.5rem;
    }

    .bg-blue-500 {
      background-color: #3b82f6;
    }

    .text-white {
      color: #ffffff;
    }

    .rounded {
      border-radius: 0.25rem;
    }

    .cursor-pointer {
      cursor: pointer;
    }

    button:hover {
      opacity: 0.9;
    }
  </style>
</head>

<body>
  <div class="min-h-screen bg-white dark:bg-gray-900 p-8">
    <div class="max-w-2xl mx-auto">
      <h1 class="text-3xl font-bold mb-4 text-gray-900 dark:text-white">
        暗色模式测试页面
      </h1>

      <div class="mb-4">
        <button onclick="toggleDark()" class="px-4 py-2 bg-blue-500 text-white rounded cursor-pointer">
          切换主题
        </button>
        <span id="status" class="ml-4 text-gray-900 dark:text-white"></span>
      </div>

      <div class="bg-gray-50 dark:bg-gray-800 p-6 rounded-lg shadow mb-4">
        <h2 class="text-xl font-semibold mb-2 text-gray-900 dark:text-white">
          测试卡片
        </h2>
        <p class="text-gray-900 dark:text-white">
          如果暗色模式正常工作，这个卡片的背景和文字颜色应该会改变。
        </p>
      </div>

      <div class="bg-gray-50 dark:bg-gray-800 p-6 rounded-lg shadow">
        <h3 class="font-semibold mb-2 text-gray-900 dark:text-white">调试信息</h3>
        <div class="text-gray-900 dark:text-white" style="font-family: monospace; font-size: 0.875rem;">
          <div>HTML class: <span id="htmlClass"></span></div>
          <div>Body background: <span id="bodyBg"></span></div>
          <div>H1 color: <span id="h1Color"></span></div>
        </div>
      </div>
    </div>
  </div>

  <script>
    function toggleDark() {
      const html = document.documentElement;
      html.classList.toggle('dark');
      updateInfo();
    }

    function updateInfo() {
      const html = document.documentElement;
      const isDark = html.classList.contains('dark');

      document.getElementById('status').textContent =
        isDark ? '当前: 暗色模式' : '当前: 亮色模式';

      document.getElementById('htmlClass').textContent =
        html.className || '(无)';

      const body = document.querySelector('body > div');
      document.getElementById('bodyBg').textContent =
        window.getComputedStyle(body).backgroundColor;

      const h1 = document.querySelector('h1');
      document.getElementById('h1Color').textContent =
        window.getComputedStyle(h1).color;
    }

    // 初始化
    updateInfo();
  </script>
</body>

</html>